var R=Object.defineProperty;var T=(t,s,n)=>s in t?R(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var b=(t,s,n)=>T(t,typeof s!="symbol"?s+"":s,n);import{d as B,i as m,r as p,a as O,o as g,b as C,f as y,g as I,w as f,h as r,t as S,e as c,_ as P,m as K,n as W,c as z,j,p as q,T as $,u as G,v as L,F as A,k as U,q as H,s as E,x as J}from"./index-BC3BUcym.js";import{_ as Q}from"./no-data-Deq1lhfQ.js";import{C as X,a as Y,u as Z}from"./characterStore-Dm6ieK7r.js";import{P as ee,d as te}from"./index-6deNActd.js";import{C as ae,a as D}from"./CharacterStatus-BxL6g03I.js";import{C as se,S as oe}from"./routerInterfaces-HiXJPxee.js";import"./http-common-BMdtxsgn.js";class ce extends ee{constructor(n,e,a,i){super(n);b(this,"name");b(this,"status");b(this,"gender");this.name=e||"",this.status=a||"",this.gender=i||""}}const ne={class:"character__img"},re=["src"],le={class:"character__content"},ie={class:"character__content__title"},_e={class:"character__content__subtitle"},ue={class:"character__content__subtitle"},de={class:"character__content__subtitle"},me=B({__name:"Character",props:{characterModel:{}},emits:["input"],setup(t,{emit:s}){const n=s,e=t,a=m(new X(e.characterModel.id,e.characterModel.name,e.characterModel.status,e.characterModel.species,e.characterModel.type,e.characterModel.gender,e.characterModel.image,e.characterModel._origin?new Y(e.characterModel._origin.name,e.characterModel._origin.url):void 0));function i(){n("input",a.value.id)}return(u,v)=>{const _=p("v-card"),k=O("ripple");return g(),C("div",null,[y((g(),I(_,{class:"character",hover:"",onClick:i},{default:f(()=>[r("div",ne,[r("img",{class:"character__img__item",src:a.value.image},null,8,re)]),r("div",le,[r("div",ie,S(a.value.name),1),c(ae,{status:a.value.status,style:{"margin-bottom":"10px"}},null,8,["status"]),r("div",_e,S(a.value.species),1),r("div",ue,S(a.value.gender),1),r("div",de,S(a.value.origin),1)])]),_:1})),[[k]])])}}}),ve=P(me,[["__scopeId","data-v-2f0d690e"]]);var M=(t=>(t.FEMALE="female",t.MALE="male",t.GENDERLESS="genderless",t.UNKNOW="unknown",t))(M||{});const he=B({__name:"CharacterFilter",emits:["input","goBack"],setup(t,{emit:s}){const n=s,e=m([D.ALIVE,D.DEAD,D.UNKNOW]),a=m([M.FEMALE,M.MALE,M.GENDERLESS,M.UNKNOW]),i=m(),u=m(),v=m();K(i,te(_,500));function _(){n("input",i.value,u.value,v.value)}function k(){n("goBack")}return(F,d)=>{const V=p("v-btn"),w=p("v-text-field"),o=p("v-col"),h=p("v-select"),x=p("v-row"),N=p("v-card");return g(),C("div",null,[c(N,{class:"character-filter pa-2",hover:""},{default:f(()=>[c(V,{icon:"mdi-arrow-left-thin",size:"medium",class:"ma-1",onClick:k}),c(x,{class:"pt-2"},{default:f(()=>[c(o,{cols:"12",xs:"12",md:"4",class:"pa-4"},{default:f(()=>[c(w,{label:"Name",clearable:"",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=l=>i.value=l),"hide-details":""},null,8,["modelValue"])]),_:1}),c(o,{cols:"12",xs:"12",md:"4",class:"pa-4"},{default:f(()=>[c(h,{clearable:!0,label:"Status",items:e.value,modelValue:u.value,"onUpdate:modelValue":[d[1]||(d[1]=l=>u.value=l),_]},null,8,["items","modelValue"])]),_:1}),c(o,{cols:"12",xs:"12",md:"4",class:"pa-4"},{default:f(()=>[c(h,{clearable:!0,label:"Gender",items:a.value,modelValue:v.value,"onUpdate:modelValue":[d[2]||(d[2]=l=>v.value=l),_]},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1})])}}}),pe=P(he,[["__scopeId","data-v-14a98976"]]),ge={class:"characters"},fe={key:"loading",class:"characters__content"},Ce={key:"content",class:"characters__content"},ke={key:0,class:"characters__content__no-data pa-8"},xe={class:"characters__content__pagination text-center"},ye=B({__name:"Characters",setup(t){const s=G(),{mdAndDown:n}=W(),e=Z(),a=m(!0),i=m(0),u=m(0),v=m(1),_=new ce(0,"","",""),k=z(()=>{let o;return n.value?o=3:o=u.value<=8?u.value:8,o});j(d),q(()=>e.setCharacters([]));function F(o,h,x){_.name=o,_.status=h,_.gender=x,v.value=1,d()}function d(){a.value=!0,_.page=v.value-1,e.getCharacters(_).then(o=>{i.value=o.count,u.value=o.pages}).catch(()=>{i.value=0,u.value=0}).finally(()=>setTimeout(()=>a.value=!1,2e3))}function V(o){s.push(`${se}/${o}`)}function w(){s.push(oe)}return(o,h)=>{const x=p("v-skeleton-loader"),N=p("v-pagination");return g(),C("div",ge,[c($,{name:"fade",mode:"out-in"},{default:f(()=>[y(r("div",fe,[(g(),C(A,null,U(20,l=>r("div",{key:l,class:"characters__content__loading"},[c(x,{type:"image",width:"280px",height:"200px"})])),64))],512),[[L,a.value]])]),_:1}),c($,{name:"fade",mode:"out-in"},{default:f(()=>[y(r("div",Ce,[r("div",{class:H(["characters__content__filter text-center pa-2",{"characters__content__filter--margin":!E(n)}])},[c(pe,{onInput:F,onGoBack:w})],2),!E(e).characters||E(e).characters.length===0?(g(),C("div",ke,h[1]||(h[1]=[r("img",{class:"characters__content__no-data__image",src:Q},null,-1),r("div",{class:"characters__content__no-data__text"}," No characters found ",-1)]))):J("",!0),(g(!0),C(A,null,U(E(e).characters,l=>(g(),I(ve,{key:l.id,characterModel:l,onInput:V},null,8,["characterModel"]))),128)),r("div",xe,[c(N,{class:"cursor-pointer",modelValue:v.value,"onUpdate:modelValue":[h[0]||(h[0]=l=>v.value=l),d],length:u.value,"total-visible":k.value},null,8,["modelValue","length","total-visible"])])],512),[[L,!a.value]])]),_:1})])}}});export{ye as default};
