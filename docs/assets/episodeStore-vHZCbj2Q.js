var I=Object.defineProperty;var v=(s,a,i)=>a in s?I(s,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[a]=i;var r=(s,a,i)=>v(s,typeof a!="symbol"?a+"":a,i);import{A as w,i as g}from"./index-BC3BUcym.js";import{a as f}from"./http-common-BMdtxsgn.js";class A{getAll(a){return f.get("/episode",{params:a})}getById(a){return f.get(`/episode/${a}`)}getAllById(a){return f.get(`/episode/${a}`)}}const h=new A;class D{constructor(a,i,o,u,n){r(this,"id");r(this,"name");r(this,"air_date");r(this,"episode");r(this,"characters");r(this,"image");this.id=a,this.name=i,this.air_date=o,this.episode=u,this.characters=n,this.image=`/src/assets/images/episode/${this.id}.jpg`}}const _=w("episode",()=>{const s=g(!1),a=g([]),i=g([]);let o=g({});function u(e){a.value=[...e]}function n(e){i.value=[...e]}function l(e){e!=null&&e.id?o.value=new D(e.id,e.name,e.air_date,e.episode,e.characters):o.value={}}async function p(e){return new Promise((d,c)=>{h.getAll(e).then(t=>{u(t.status===200?t.data.results:[]),d(t.data.info)}).catch(t=>{u([]),c(t)})})}async function y(e){return new Promise((d,c)=>{h.getById(e).then(t=>{l(t.status===200?t.data:{}),d(t.data)}).catch(t=>{l({}),c(t)})})}async function E(e){return new Promise((d,c)=>{h.getById(e).then(t=>{if(t.status===200){const m=[];m.push(t.data),n(m)}else n([]);d(t.data)}).catch(t=>{l({}),c(t)})})}async function B(e){return new Promise((d,c)=>{h.getAllById(e).then(t=>{n(t.status===200?t.data:[]),d(t.data)}).catch(t=>{n([]),c(t)})})}return{episodes:a,loading:s,episodeDetail:o,episodesDetail:i,getEpisodes:p,setEpisodes:u,getEpisodeById:y,setEpisode:l,setEpisodesDetail:n,getEpisodesById:B,getEpisodeByIdForDetail:E}});export{D as E,_ as u};
