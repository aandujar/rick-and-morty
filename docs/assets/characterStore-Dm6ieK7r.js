var w=Object.defineProperty;var B=(s,e,n)=>e in s?w(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var a=(s,e,n)=>B(s,typeof e!="symbol"?e+"":e,n);import{A as I,i as f}from"./index-BC3BUcym.js";import{a as C}from"./http-common-BMdtxsgn.js";class N{getAll(e){return C.get("/character",{params:e})}getById(e){return C.get(`/character/${e}`)}getAllById(e){return C.get(`/character/${e}`)}}const y=new N;class A{constructor(e,n,u,g,o,c,h,d,m,_,t){a(this,"id");a(this,"name");a(this,"status");a(this,"species");a(this,"_type");a(this,"gender");a(this,"image");a(this,"_origin");a(this,"_location");a(this,"created");a(this,"episode");this.id=e,this.name=n,this.status=u,this.species=g,this._type=o,this.gender=c,h&&(this.image=h),d&&(this._origin=d),m&&(this._location=m),_&&(this.created=_),this.episode=t?[...t]:[]}get origin(){let e;return this._origin&&this._origin.name&&this._origin.name.length>0?e=this._origin.name:e="No origin",e}get location(){let e;return this._location&&this._location.name&&this._location.name.length>0?e=this._location.name:e="No location",e}get type(){let e;return this._type&&this._type.length>0?e=this._type:e="No type",e}}class v{constructor(e,n){a(this,"name");a(this,"url");this.name=e,this.url=n}}const $=I("character",()=>{const s=f(!1),e=f([]),n=f([]);let u=f({});function g(t){e.value=[...t]}function o(t){n.value=[...t]}function c(t){t!=null&&t.id?u.value=new A(t.id,t.name,t.status,t.species,t.type,t.gender,t.image,t._origin?new v(t._origin.name,t._origin.url):void 0,t._location?new v(t._location.name,t._location.url):void 0,t.created,t.episode):u.value={}}async function h(t){return new Promise((r,l)=>{y.getAll(t).then(i=>{g(i.status===200?i.data.results:[]),r(i.data.info)}).catch(i=>{g([]),l(i)})})}async function d(t){return new Promise((r,l)=>{y.getById(t).then(i=>{c(i.status===200?i.data:{}),r(i.data)}).catch(i=>{c({}),l(i)})})}async function m(t){return new Promise((r,l)=>{y.getById(t).then(i=>{if(i.status===200){const p=[];p.push(i.data),o(p)}else o([]);r(i.data)}).catch(i=>{c({}),l(i)})})}async function _(t){return new Promise((r,l)=>{y.getAllById(t).then(i=>{o(i.status===200?i.data:[]),r(i.data)}).catch(i=>{o([]),l(i)})})}return{characters:e,loading:s,characterDetail:u,charactersDetail:n,getCharacters:h,setCharacters:g,getCharacterById:d,setCharacter:c,getCharactersById:_,setCharactersDetail:o,getCharacterByIdForDetail:m}});export{A as C,v as a,$ as u};
