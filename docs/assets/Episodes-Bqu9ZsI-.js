var O=Object.defineProperty;var j=(d,o,n)=>o in d?O(d,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[o]=n;var B=(d,o,n)=>j(d,typeof o!="symbol"?o+"":o,n);import{d as y,i as r,r as _,a as q,o as p,b as E,f as $,g as P,w as m,h as a,t as C,_ as T,m as D,e as i,n as G,c as L,j as R,p as A,T as M,u as H,v as S,F,k as I,q as J,s as b,x as K}from"./index-BC3BUcym.js";import{_ as Q}from"./no-data-Deq1lhfQ.js";import{E as W,u as X}from"./episodeStore-vHZCbj2Q.js";import{P as Y,d as N}from"./index-6deNActd.js";import{E as Z,S as ee}from"./routerInterfaces-HiXJPxee.js";import"./http-common-BMdtxsgn.js";class se extends Y{constructor(n,e,s){super(n);B(this,"name");B(this,"episode");this.name=e||"",this.episode=s||""}}const oe={class:"episode__img"},te=["src"],ne={class:"episode__content"},ae={class:"episode__content__title"},ie={class:"episode__content__subtitle"},le=y({__name:"Episode",props:{episodeModel:{}},emits:["input"],setup(d,{emit:o}){const n=o,e=d,s=r(new W(e.episodeModel.id,e.episodeModel.name,e.episodeModel.air_date,e.episodeModel.episode,e.episodeModel.characters));function u(){n("input",s.value.id)}return(c,v)=>{const l=_("v-card"),k=q("ripple");return p(),E("div",null,[$((p(),P(l,{class:"episode",hover:"",onClick:u},{default:m(()=>[a("div",oe,[a("img",{class:"episode__img__item",src:s.value.image},null,8,te)]),a("div",ne,[a("div",ae,C(s.value.episode),1),a("div",ie,C(s.value.name),1)])]),_:1})),[[k]])])}}}),de=T(le,[["__scopeId","data-v-7676ef31"]]),ce=y({__name:"EpisodeFilter",emits:["input","goBack"],setup(d,{emit:o}){const n=o,e=r(),s=r();D(e,N(u,500)),D(s,N(u,500));function u(){n("input",e.value,s.value)}function c(){n("goBack")}return(v,l)=>{const k=_("v-btn"),x=_("v-text-field"),f=_("v-col"),w=_("v-row"),V=_("v-card");return p(),E("div",null,[i(V,{class:"episode-filter pa-2",hover:""},{default:m(()=>[i(k,{icon:"mdi-arrow-left-thin",size:"medium",class:"ma-1",onClick:c}),i(w,{class:"pt-2"},{default:m(()=>[i(f,{cols:"12",xs:"12",md:"6",class:"pa-4"},{default:m(()=>[i(x,{label:"Episode",clearable:"",modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value=t),"hide-details":""},null,8,["modelValue"])]),_:1}),i(f,{cols:"12",xs:"12",md:"6",class:"pa-4"},{default:m(()=>[i(x,{label:"Name",clearable:"",modelValue:e.value,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value=t),"hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})])}}}),_e=T(ce,[["__scopeId","data-v-5c90b2b5"]]),pe={class:"episodes"},ue={key:"loading",class:"episodes__content"},re={key:"content",class:"episodes__content"},me={key:0,class:"episodes__content__no-data pa-8"},ve={class:"episodes__content__pagination text-center"},we=y({__name:"Episodes",setup(d){const o=H(),{mdAndDown:n}=G(),e=X(),s=r(!0),u=r(0),c=r(0),v=r(1),l=new se(0,"",""),k=L(()=>{let t;return n.value?t=3:t=c.value<=8?c.value:8,t});R(f),A(()=>e.setEpisodes([]));function x(t,g){l.name=t,l.episode=g,v.value=1,f()}function f(){s.value=!0,l.page=v.value-1,e.getEpisodes(l).then(t=>{u.value=t.count,c.value=t.pages}).catch(()=>{u.value=0,c.value=0}).finally(()=>{setTimeout(()=>s.value=!1,2e3)})}function w(t){o.push(`${Z}/${t}`)}function V(){o.push(ee)}return(t,g)=>{const U=_("v-skeleton-loader"),z=_("v-pagination");return p(),E("div",pe,[i(M,{name:"fade",mode:"out-in"},{default:m(()=>[$(a("div",ue,[(p(),E(F,null,I(20,h=>a("div",{key:h,class:"episodes__content__loading"},[i(U,{type:"image",width:"280px",height:"200px"})])),64))],512),[[S,s.value]])]),_:1}),i(M,{name:"fade",mode:"out-in"},{default:m(()=>[$(a("div",re,[a("div",{class:J(["episodes__content__filter text-center pa-2",{"episodes__content__filter--margin":!b(n)}])},[i(_e,{onInput:x,onGoBack:V})],2),!b(e).episodes||b(e).episodes.length===0?(p(),E("div",me,g[1]||(g[1]=[a("img",{class:"episodes__content__no-data__image",src:Q},null,-1),a("div",{class:"episodes__content__no-data__text"},"No episodes found",-1)]))):K("",!0),(p(!0),E(F,null,I(b(e).episodes,h=>(p(),P(de,{key:h.id,episodeModel:h,onInput:w},null,8,["episodeModel"]))),128)),a("div",ve,[i(z,{class:"cursor-pointer",modelValue:v.value,"onUpdate:modelValue":[g[0]||(g[0]=h=>v.value=h),f],length:c.value,"total-visible":k.value},null,8,["modelValue","length","total-visible"])])],512),[[S,!s.value]])]),_:1})])}}});export{we as default};
